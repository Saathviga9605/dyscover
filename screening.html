<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Try Screening</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=OpenDyslexic&display=swap" rel="stylesheet">
  <style>
    .fun-gif {
      transition: opacity 0.5s ease;
    }
    .hidden {
      opacity: 0;
      visibility: hidden;
      height: 0;
      overflow: hidden;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">Dyscover</div>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="screening.html">Try Screening</a></li>
      <li><a href="sample_report.html">Sample Report</a></li>
      <li><a href="contact.html">Contact Us</a></li>
    </ul>
  </nav>

  <!-- Game Title -->
  <div class="game-title">Time for screening!</div>
  <p class="game-p">
    Keep calm, kiddo! This is just a game! No stress! No pressure! Just have fun and we'll take care of the rest!
  </p>

  <!-- Fun GIF -->
  <div id="gif-wrapper" class="fun-gif">
    <div class="tenor-gif-embed" data-postid="21800367" data-share-method="host" data-aspect-ratio="5" data-width="100%">
      <a href="https://tenor.com/view/rascal-have-fun-gif-21800367">Rascal Have Fun Sticker</a> from 
      <a href="https://tenor.com/search/rascal-stickers">Rascal Stickers</a>
    </div>
    <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
  </div>

  <!-- Game Panel -->
  <div class="game-panel">
    Game will load here...
  </div>

  <!-- Game Description -->
  <div class="game-description">
    This interactive game is designed to make early detection of dyslexia simple and engaging. By analyzing how children interact with language-based challenges, we aim to identify potential signs of dyslexia in a safe, non-judgmental space. While this tool is not a replacement for clinical evaluation, it serves as a valuable early alert mechanism for parents and educators.
  </div>

 
<!-- Chatbot Toggle Icon -->
<button class="chatbot-toggle" onclick="toggleChatbot()">
  💬
</button>

<!-- Chatbot Window -->
<div class="chatbot-window" id="chatbot">
  <div class="chatbot-header">
    <span> Ask Lexi 🤖</span>
    <button onclick="toggleChatbot()">✖</button>
  </div>
  <div class="chatbot-body" id="chatbot-body">
    <div><strong>Lexi:</strong> Hello! How can I help you today?</div>
  </div>
  <div class="chatbot-input">
    <input type="text" id="user-input" placeholder="Type your question..." onkeydown="if(event.key === 'Enter') sendMessage()">
    <button onclick="startListening()" title="Speak" aria-label="Start voice input">
      <img src="https://img.icons8.com/material-outlined/24/6237a0/microphone--v1.png" alt="Mic">
    </button>
    <button onclick="sendMessage()" title="Send" aria-label="Send message">
      <img src="https://img.icons8.com/ios-glyphs/24/6237a0/filled-sent.png" alt="Send">
    </button>
  </div>
</div>

<!-- Chatbot Scripts -->
<script>
  function toggleChatbot() {
    const chatbot = document.getElementById('chatbot');
    chatbot.classList.toggle('open');
  }

  function sendMessage() {
    const input = document.getElementById('user-input');
    const message = input.value.trim();
    if (!message) return;

    const chat = document.getElementById('chatbot-body');
    const userMsg = document.createElement('div');
    userMsg.innerHTML = "<strong>You:</strong> " + message;
    chat.appendChild(userMsg);

    const botMsg = document.createElement('div');
    botMsg.innerHTML = "<strong>Bot:</strong> I'm still learning! Try again later.";
    setTimeout(() => chat.appendChild(botMsg), 800);

    input.value = '';
    chat.scrollTop = chat.scrollHeight;
  }

  function startListening() {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'en-IN';
    recognition.onresult = function (event) {
      document.getElementById('user-input').value = event.results[0][0].transcript;
      sendMessage();
    };
    recognition.start();
  }
</script>
<div class="chatbot-window" id="chatbot">
  <div class="chatbot-header">
    <span>Chat with us</span>
    <button onclick="toggleChatbot()">✖</button>
  </div>
  <div class="chatbot-body" id="chatbot-body">
    <div><strong>Bot:</strong> Hello! How can I help you today?</div>
  </div>
  <div class="chatbot">
    <div class="chatbot-header">Ask Me Anything!</div>
    <div class="chatbot-messages" id="chat-messages"></div>
    <div class="chatbot-input">
      <input type="text" id="user-input" placeholder="Type your question..." onkeydown="if(event.key === 'Enter') sendMessage()">
      <button onclick="startListening()" title="Speak" aria-label="Start voice input">
        <img src="https://img.icons8.com/material-outlined/24/ffffff/microphone--v1.png" alt="Mic">
      </button>
      <button onclick="sendMessage()" title="Send" aria-label="Send message">
        <img src="https://img.icons8.com/ios-glyphs/24/ffffff/filled-sent.png" alt="Send">
      </button>
    </div>
  </div>
  <script>
    function sendMessage() {
      const input = document.getElementById('user-input');
      const message = input.value.trim();
      if (!message) return;

      const chat = document.getElementById('chat-messages');
      const userMsg = document.createElement('div');
      userMsg.textContent = "🧑‍💻 You: " + message;
      chat.appendChild(userMsg);

      const botMsg = document.createElement('div');
      botMsg.textContent = "🤖 Bot: I'm still learning! Try again later.";
      setTimeout(() => chat.appendChild(botMsg), 800);

      input.value = '';
      chat.scrollTop = chat.scrollHeight;
    }

    function startListening() {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = 'en-IN';
      recognition.onresult = function (event) {
        document.getElementById('user-input').value = event.results[0][0].transcript;
        sendMessage();
      };
      recognition.start();
    }
  </script>
  <script src="script.js"></script>
  <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
    <footer id="contact">
    <p>Contact us at <a href="mailto:support@dyscover.org">support@dyscover.org</a></p>
  </footer>
  
  <!-- Script to hide GIF -->
  <script>
    setTimeout(() => {
      document.getElementById('gif-wrapper').classList.add('hidden');
    }, 5000);
  </script>

</body>
</html>
